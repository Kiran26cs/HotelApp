@model HotelWebApp.Models.BookingDetail
@{
    ViewData["Title"] = "Booking Page";
}
@{
    bool isSaved = (bool)(ViewData["IsSaved"]??false);
    bool IsSuccess = (bool)(ViewData["IsSuccess"] ??false);
    string bookedRoomNo = ViewData["BookedRoomNo"] as string;
    string bookedRoomType = ViewData["BookedRoomType"] as string;
    if (isSaved && IsSuccess)
    {
        <div id="bannerDiv" class="info" style="background-color:antiquewhite; padding:2%;width:75%">
            <h3>Room No: @bookedRoomNo (type: @bookedRoomType) Booked successfully</h3>
        </div>
    }
    else if (isSaved && !IsSuccess)
    {
        <div id="bannerDiv" class="info" style="background-color:antiquewhite; padding:2%;width:75%">
            <h3>Error occured while booking. Please check inputs</h3>
        </div>
    }
}


@using (Html.BeginForm("Create", "Booking", FormMethod.Post))
{
    <div class="panel panel-default" style="width:75%">
        <div class="panel-heading">
            <h1>Book a room</h1>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-6">
                    @Html.LabelFor(x => x.FromDate)
                </div>
                <div class="col-lg-6">
                    @Html.LabelFor(x => x.ToDate)
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    @Html.EditorFor(m => m.FromDate)
                </div>
                <div class="col-lg-6">
                    @Html.EditorFor(m => m.ToDate)
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    &nbsp;
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    @Html.LabelFor(x => x.RoomType)
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    @Html.DropDownListFor(x => x.RoomType, new List<SelectListItem> { new SelectListItem { Text = "Single", Value = "single" }, new SelectListItem { Text = "Double", Value = "double" }, new SelectListItem { Text = "--Select--", Value = "0", Selected = true } })
                </div>
            </div>
        </div>
        <div class="panel-footer" style="width:100%">
            <input class="btn btn-primary" type="submit" value="Create My Booking" />
            <input class="btn btn-default" type="reset" value="Clear" />
        </div>
    </div>
}

@section scripts{
    <script>
        $(document).ready(function () {

            setTimeout(function () {
                $('#bannerDiv').fadeOut('slow');
            }, 5000); // <-- time in milliseconds

            $('input[type=datetime]').datepicker({
                dateFormat: "dd/M/yy",
                changeMonth: true,
                changeYear: true,
                yearRange: "-60:+0"
            });
        });

    </script>
}